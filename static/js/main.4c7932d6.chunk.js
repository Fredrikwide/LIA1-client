(this.webpackJsonplia1client=this.webpackJsonplia1client||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){},23:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},36:function(e,t,a){e.exports=a(66)},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(34),c=a(3),o=Object(n.createContext)(),s=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(!1),u=Object(c.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(!1),b=Object(c.a)(p,2),E=b[0],f=b[1],v=Object(n.useState)(!1),h=Object(c.a)(v,2),g=h[0],O=h[1],k=Object(n.useState)(!1),j=Object(c.a)(k,2),C=j[0],N=j[1],x=Object(n.useState)(!1),w=Object(c.a)(x,2),S=w[0],y=w[1],D=Object(n.useState)([]),B=Object(c.a)(D,2),_=B[0],T=B[1],I=Object(n.useState)(!1),P=Object(c.a)(I,2),F=P[0],M=P[1],L=Object(n.useState)(!1),Y=Object(c.a)(L,2),W=Y[0],A=Y[1],R=Object(n.useState)(),H=Object(c.a)(R,2),z={isClicked:m,setIsClicked:d,isHidden:E,setIsHidden:f,hideMsg:l,setHideMsg:s,pageReset:g,setPageReset:O,updatedBooking:C,setUpdatedBooking:N,editActive:S,setEditActive:y,reservations:_,setReservations:T,dispSingleBooking:F,setDispSingleBooking:M,hideCal:W,setHideCal:A,currBooking:H[0],setCurrBooking:H[1]};return r.a.createElement(o.Provider,{value:z},e.children)},i=a(11),u=a.n(i),m=Object(n.createContext)(),d={date:null,time:null,people:0,gdpr:!1},p=function(e){var t=Object(n.useState)(new Date),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),p=i[0],b=i[1],E=Object(n.useState)(d),f=Object(c.a)(E,2),v=f[0],h=f[1],g=Object(n.useState)({}),O=Object(c.a)(g,2),k=O[0],j=O[1],C=Object(n.useState)(!1),N=Object(c.a)(C,2),x=N[0],w=N[1],S=Object(n.useState)(!1),y=Object(c.a)(S,2),D=y[0],B=y[1],_=Object(n.useState)(!1),T=Object(c.a)(_,2),I=T[0],P=T[1],F=Object(n.useState)(u()(l).format("MMMM Do YYYY, h:mm:ss a")),M=Object(c.a)(F,2),L=M[0],Y=M[1];Object(n.useEffect)((function(){}),[v]);var W={date:l,setDate:o,pickedDate:p,setPickedDate:b,formValues:v,setFormValues:h,latestBooking:k,setLatestBooking:j,fullyBooked:x,setFullyBooked:w,fullyBooked18:D,setFullyBooked18:B,fullyBooked21:I,setFullyBooked21:P,currTime:L,setCurrTime:Y};return r.a.createElement(m.Provider,{value:W},e.children)},b=Object(n.createContext)(),E=function(e){var t=Object(n.useState)({token:void 0,user:void 0}),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),u={userData:l,setUserData:o,loggedIn:i[0],setLoggedIn:i[1]};return r.a.createElement(b.Provider,{value:u},e.children)},f=(a(23),a(4)),v=a.n(f),h=a(7),g=a(8),O=a(5),k=a(6),j=a(18),C=3,N=(a(16),a(43),a(9)),x=a.n(N),w=function(){var e=Object(n.useContext)(o).setHideMsg,t=Object(n.useContext)(m).setPickedDate,a=Object(n.useContext)(m),l=a.date,c=a.setDate,s=Object(n.useContext)(m),i=s.formValues,d=s.setFormValues,p=Object(n.useContext)(m),b=p.fullyBooked,E=p.setFullyBooked,f=Object(n.useContext)(m),g=f.fullyBooked18,O=f.setFullyBooked18,N=Object(n.useContext)(m),w=N.fullyBooked21,S=N.setFullyBooked21;Object(n.useEffect)((function(){console.log("rendered"),function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/reservation/".concat(u()(l).format("YYYY-MM-DD")));case 2:t=e.sent,console.log(t.data.data),t.data.data.first<1&&t.data.data.last<1?(console.log(b),E(!0)):t.data.data.first<1?(console.log(g),S(!0)):t.data.data.last<1?(console.log(w),O(!0)):(E(!1),S(!1),O(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l]);var y=new Date;y.setMonth(y.getMonth()+C);return r.a.createElement("div",{className:"date-wrapper"},r.a.createElement("h1",null,"Thank you for dining with us!"),r.a.createElement(j.a,{onChange:function(a){c(a),e(!0),t(!0);var n=u()(a).format("YYYY-MM-DD");console.log(n),d(Object(k.a)(Object(k.a)({},i),{},{date:n}))},value:l,maxDate:y,minDate:new Date}))},S=(a(14),["btn--primary","btn--outline","btn--secondary","btn--warning"]),y=["btn--medium","btn--large","btn--mobile","btn--wide"],D=["click","submit"],B=["primary","black","red","green","orange","outline","outline-active"],_=function(e){var t=e.children,a=e.value,n=e.type,l=e.onClick,c=e.buttonStyle,o=e.buttonType,s=e.buttonSize,i=e.buttonColor,u=S.includes(c)?c:S[0],m=y.includes(s)?s:y[0],d=D.includes(o)?o:null,p=B.includes(i)?i:null;return r.a.createElement("button",{className:"btn ".concat(u," ").concat(m," ").concat(p," ").concat(d),onClick:l,type:n,value:a},t)},T=function(){var e=Object(n.useContext)(m),t=e.formValues,a=e.setFormValues,l=Object(n.useContext)(m),s=l.fullyBooked,i=l.fullyBooked18,u=l.fullyBooked21,d=Object(n.useContext)(o).setIsClicked,p=Object(n.useContext)(o).setIsHidden,b=Object(n.useState)(!1),E=Object(c.a)(b,2),f=E[0],v=E[1],h=Object(n.useState)(!1),g=Object(c.a)(h,2),O=g[0],j=g[1],C=Object(n.useState)("- Time -"),N=Object(c.a)(C,2),x=N[0],w=N[1],S=Object(n.useState)("- Seat -"),y=Object(c.a)(S,2),D=y[0],B=y[1],T=Object(n.useState)([1,2,3,4,5,6]),I=Object(c.a)(T,2),P=I[0];I[1];Object(n.useEffect)((function(){console.log("booked ",s,"18",i,"21",u)}),[s,i,u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"select-outer-cont"},r.a.createElement("div",{className:"select-inner-cont"},r.a.createElement("select",{name:"time",id:"time",disabled:!!s,onChange:function(e){w(e.target.value),a(Object(k.a)(Object(k.a)({},t),{},{time:e.target.value})),v(!0)},value:x,required:!0},r.a.createElement("option",{value:x,disabled:!0},x),r.a.createElement("option",{value:"18:00",disabled:!!i},"18:00"),r.a.createElement("option",{value:"21:00",disabled:!!u},"21:00"))),r.a.createElement("div",{className:"select-inner-cont"},r.a.createElement("select",{name:"seats",id:"seats",onChange:function(e){B(e.target.value),a(Object(k.a)(Object(k.a)({},t),{},{people:e.target.value})),j(!0)},value:D,disabled:!!s,required:!0},r.a.createElement("option",{value:D,disabled:!0},D),P.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),f&&O?r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{type:"button",buttonSize:"btn--medium",buttonColor:"black",onClick:function(e){p(!0),d(!0)}},"Continue")):s?r.a.createElement("p",{className:"pickInfo"},"sorry fully booked on this date"):r.a.createElement("p",{className:"pickInfo"},"you must choose a time and seats to continue"))},I=function(){var e=Object(O.g)(),t=Object(n.useContext)(m),a=t.formValues,l=t.setFormValues,s=t.setLatestBooking,i=t.pickedDate,u=t.setPickedDate,d=Object(n.useContext)(o),p=d.isClicked,b=d.setIsClicked,E=d.isHidden,f=d.setIsHidden,j=d.hideMsg,C=d.setHideMsg,N=d.pageReset,w=d.setPageReset,S=Object(n.useState)(!1),y=Object(c.a)(S,2),D=y[0],B=y[1],T=Object(n.useState)(!1),I=Object(c.a)(T,2),P=I[0],F=I[1],M=Object(n.useState)(""),L=Object(c.a)(M,2),Y=L[0],W=L[1],A=function(){var e=Object(h.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("http://localhost:5000/reservation",t);case 2:a=e.sent,console.log("res is ",a),"fail"===a.status&&(console.log(a.data.message),W(a.data.message),F(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){b(!p),f(!E),C(!j),w(!N),u(!i),l({date:null,time:null,people:0,gdpr:!1})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"form-header-text"}," Fill in the form to make your reservation!")),r.a.createElement("div",{className:""},r.a.createElement("h3",null,"your reservation:"),r.a.createElement("p",null," date: ",a.date," at ",a.time," o'clock for ",a.people," people")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),F(!1),A(a),s(a),R(),e("/success")}},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"nameWrapper inpWrapper"},r.a.createElement("label",null,"First name"),r.a.createElement("input",{type:"text",onChange:function(e){l(Object(k.a)(Object(k.a)({},a),{},{firstname:e.target.value}))},name:"firstname",placeholder:"First Name",required:!0})),r.a.createElement("div",{className:"nameWrapper inpWrapper"},r.a.createElement("label",null," last name"),r.a.createElement("input",{type:"text",onChange:function(e){l(Object(k.a)(Object(k.a)({},a),{},{lastname:e.target.value}))},name:"lastname",placeholder:"Last Name",required:!0})),r.a.createElement("div",{className:"emailWrapper inpWrapper"},r.a.createElement("label",null,"email"),r.a.createElement("input",{type:"email",onChange:function(e){l(Object(k.a)(Object(k.a)({},a),{},{email:e.target.value}))},name:"email",placeholder:"Email",required:!0})),r.a.createElement("div",{className:"phoneWrapper inpWrapper"},r.a.createElement("label",null,"phone"),r.a.createElement("input",{type:"tel",minLength:"10",maxLength:"12",onChange:function(e){l(Object(k.a)(Object(k.a)({},a),{},{phone:e.target.value}))},name:"phone",placeholder:"Phone number",required:!0})),r.a.createElement("div",null,r.a.createElement("div",{className:"checkGDPR"},r.a.createElement("input",{type:"checkbox",className:"checkBox",value:D,onChange:function(){B(!D),l(Object(k.a)(Object(k.a)({},a),{},{gdpr:!D}))},required:!0}),r.a.createElement("p",{className:"pickInfo gdprText"},"I agree that my information is handled according to ",r.a.createElement(g.b,{to:"/privacy"},"our privacy policy")))),r.a.createElement("div",{className:"btn-outer"},P?r.a.createElement("div",null,r.a.createElement("h2",null,Y)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{buttonType:"submit",buttonSize:"btn--medium",buttonColor:"green"},"Confirm")),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{buttonType:"click",buttonSize:"btn--medium",buttonColor:"red",onClick:function(){e("/book"),R()}},"Cancel"))))))))},P=function(){var e=Object(n.useContext)(o).hideMsg,t=Object(n.useContext)(m).pickedDate,a=Object(n.useContext)(o).isHidden,l=Object(n.useContext)(o).isClicked;return r.a.createElement(r.a.Fragment,null,a?null:e||a?r.a.createElement(w,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("p",{className:"pickInfo",id:"pickDate"},"please pick a date")),t&&!a&&r.a.createElement(T,null),l&&r.a.createElement(I,null))},F=a(13),M=a(35),L=(a(63),a(0)),Y=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!0),s=Object(c.a)(o,2),i=s[0],u=s[1],m=Object(n.useContext)(b).loggedIn,d=function(){l(!1)},p=function(){window.innerWidth<=960?u(!1):u(!0)};return Object(n.useEffect)((function(){p()}),[]),window.addEventListener("resize",p),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b.Provider,{value:{color:"#fff"}},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"navbar-container"},r.a.createElement(g.b,{to:"/",className:"navbar-logo",onClick:d},r.a.createElement(M.a,{className:"navbar-icon"}),"Cafe Disco"),r.a.createElement("div",{className:"menu-icon",onClick:function(){l(!a)}},a?r.a.createElement(F.d,null):r.a.createElement(F.a,null)),r.a.createElement("ul",{className:a?"nav-menu active":"nav-menu"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/",className:"nav-links",onClick:d},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/privacy",className:"nav-links",onClick:d},"Privacy policy")),m&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/admin",className:"nav-links",onClick:d},"Admin")),r.a.createElement("li",{className:"nav-btn"},i?r.a.createElement(g.b,{to:"/book",className:"btn-link"},r.a.createElement(_,{buttonStyle:"btn--outline"},"BOOK TABLE")):r.a.createElement(g.b,{to:"/book",className:"btn-link",onClick:d},r.a.createElement(_,{buttonStyle:"btn--outline",buttonSize:"btn--mobile"},"BOOK TABLE")))))))))},W=(a(19),function(e){e.lightBg;var t=e.topLine,a=e.lightText,n=e.lightTextDesc,l=e.headline,c=e.description,o=e.buttonLabel,s=(e.img,e.alt,e.imgStart);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home__hero-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row home__hero-row",style:{display:"flex",flexDirection:"start"===s?"row-reverse":"row"}},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"home__hero-text-wrapper"},r.a.createElement("div",{className:"top-line"},t),r.a.createElement("h1",{className:a?"heading":"heading dark"},l),r.a.createElement("p",{className:n?"home__hero-subtitle":"home__hero-subtitle dark"},c),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(g.b,{to:"/book"},r.a.createElement(_,{buttonSize:"btn--wide",buttonStyle:"btn--secondary"},o)))))))))}),A={topLine:"Something Something",headline:"Awesomest DINNER ever",description:"That was Wintermute, manipulating the lock the way it had manipulated the drone micro and the drifting shoals of waste. The last Case saw of Chiba were the cutting edge, whole bodies of technique supplanted monthly, and still he\u2019d see the matrix in his jacket pocket.",buttonLabel:"Book",imgStart:""},R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,A))},H=function(){var e=Object(O.g)(),t=Object(n.useContext)(b),a=t.setLoggedIn,l=t.setUserData,o=Object(n.useState)(),s=Object(c.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(),d=Object(c.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),g=Object(c.a)(f,2),k=g[0],j=g[1],C=Object(n.useState)([]),N=Object(c.a)(C,2),w=N[0],S=N[1],y=function(){var t=Object(h.a)(v.a.mark((function t(n){var r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,r={email:i,password:p},t.next=5,x.a.post("http://localhost:5000/admin/login",r);case 5:200===(c=t.sent).status&&(l({token:c.data.token,user:c.data.user}),localStorage.setItem("auth-token",c.data.token),a(!0),e("/admin",{replace:!0})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),S(t.t0.response.data.data.message),j(!0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{className:k?"from-wrapper-error":"form-wrapper"},r.a.createElement("h1",{className:"header dark"},"Log in"),r.a.createElement("div",{className:"nameWrapper inpWrapper"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",onChange:function(e){u(e.target.value)},name:"firstname",placeholder:"enter your email",required:!0})),r.a.createElement("div",{className:"nameWrapper inpWrapper"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){E(e.target.value)},name:"password",placeholder:"enter your password",required:!0})),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{type:"submit",buttonSize:"btn--medium",buttonColor:"black",buttonStyle:"btn--outline"},"Sign In"))),k&&r.a.createElement("div",{className:"error"},r.a.createElement("p",null,w)))},z=a(21),U=(a(32),function(){var e=Object(h.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("http://localhost:5000/admin/validToken",null,{headers:{"x-auth-token":t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=(Object({NODE_ENV:"production",PUBLIC_URL:"/lia1client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_API_URI,Object({NODE_ENV:"production",PUBLIC_URL:"/lia1client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_POST_BOOKING_ENDPOINT,function(){var e=Object(h.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/admin/".concat(t),{headers:{"x-auth-token":a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),V=function(){var e=Object(h.a)(v.a.mark((function e(t,a,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("http://localhost:5000/admin/reservation/".concat(t),a,{headers:{"x-auth-token":n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(h.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("http://localhost:5000/admin/reservation/".concat(t),{headers:{"x-auth-token":a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/admin/",{headers:{"x-auth-token":t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=Object(n.useContext)(o),a=t.setHideCal,l=t.setDispSingleBooking,c=t.setCurrBooking;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"inner"},r.a.createElement("div",{className:"item-box"},r.a.createElement("ul",null,e.booking.map((function(e,t){return r.a.createElement("li",{key:t,onClick:function(){return t=e,a(!0),l(!0),void c(t);var t}},r.a.createElement("strong",null,e.firstname," ",e.lastname),"  | ",e.time,"  | people   ",e.people," | ",e.email," ")}))))))},Q=(a(33),function(e){var t=Object(n.useContext)(o),a=t.reservations,l=t.setReservations,s=Object(n.useContext)(o),i=s.setEditActive,u=s.setHideCal,m=Object(n.useState)([1,2,3,4,5,6]),d=Object(c.a)(m,2),p=d[0],E=(d[1],Object(n.useState)({firstname:e.booking.firstname,lastname:e.booking.lastname,email:e.booking.email,phone:e.booking.phone,date:e.booking.date,time:e.booking.time,seats:e.booking.people})),f=Object(c.a)(E,2),g=f[0],O=f[1],j=Object(n.useContext)(b).userData,C=Object(n.useState)(g.time),N=Object(c.a)(C,2),x=N[0],w=N[1],S=Object(n.useState)(g.seats),y=Object(c.a)(S,2),D=y[0],B=y[1];Object(n.useEffect)((function(){console.log("helllo i ran")}),[a]);var T=function(){var t=Object(h.a)(v.a.mark((function t(n,r,c){var o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(n,r,c);case 2:if(200!==t.sent.status){t.next=14;break}return t.next=6,q(e.booking.date,j.token);case 6:o=t.sent,l(o.data.data.reservation),i(!1),u(!1),i(!1),console.log(a),t.next=15;break;case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),I=function(){var t=Object(h.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,T(e.booking._id,g,j.token);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"edit-form"},r.a.createElement("form",{onSubmit:I},r.a.createElement("p",{className:"exit",onClick:function(){i(!1)}},r.a.createElement(F.c,null)),r.a.createElement("h1",null,"Booking info"),r.a.createElement("p",null,r.a.createElement("strong",null,"Booking number:")," ",e.booking._id),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",g.firstname," ",g.lastname),r.a.createElement("div",null,r.a.createElement("div",{className:"inp-box"},r.a.createElement("input",{type:"text",onChange:function(e){O(Object(k.a)(Object(k.a)({},g),{},{firstname:e.target.value}))},name:"firstname",value:g.firstname})),r.a.createElement("div",{className:"inp-box"},r.a.createElement("input",{type:"text",onChange:function(e){O(Object(k.a)(Object(k.a)({},g),{},{lastname:e.target.value}))},name:"lastname",value:g.lastname}))),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",g.email),r.a.createElement("div",{className:"inp-box"},r.a.createElement("input",{type:"email",onChange:function(e){O(Object(k.a)(Object(k.a)({},g),{},{email:e.target.value}))},name:"email",value:g.email})),r.a.createElement("p",null,r.a.createElement("strong",null,"Phone:")," ",g.phone),r.a.createElement("div",{className:"inp-box"},r.a.createElement("input",{type:"tel",minLength:"10",maxLength:"12",onChange:function(e){O(Object(k.a)(Object(k.a)({},g),{},{phone:e.target.value}))},name:"phone",value:g.phone})),r.a.createElement("div",{className:"select-time-box"},r.a.createElement("div",{className:"select-inner"},r.a.createElement("p",null,r.a.createElement("strong",null,"Time:")," ",g.time),r.a.createElement("select",{name:"time",id:"time",onChange:function(e){w(e.target.value),O(Object(k.a)(Object(k.a)({},g),{},{time:e.target.value}))},value:x},r.a.createElement("option",{value:x,disabled:!0},x),r.a.createElement("option",{value:"18:00"},"18:00"),r.a.createElement("option",{value:"21:00"},"21:00"))),r.a.createElement("div",{className:"select-inner"},r.a.createElement("p",null,r.a.createElement("strong",null,"Persons")," ",e.booking.people),r.a.createElement("select",{name:"seats",id:"seats",onChange:function(e){B(e.target.value),O(Object(k.a)(Object(k.a)({},g),{},{people:e.target.value}))},value:D},r.a.createElement("option",{value:D,disabled:!0},D),p.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{type:"submit",buttonSize:"btn--medium",buttonColor:"black"},"Save changes")))))}),X=function(e){var t=Object(n.useContext)(o),a=t.reservations,l=t.setReservations,c=t.setHideCal,s=t.setDispSingleBooking,i=Object(n.useContext)(b).userData,m=Object(n.useContext)(o),d=m.setEditActive,p=m.editActive;Object(n.useEffect)((function(){console.log("helllo i ran")}),[a]);var E=function(){var t=Object(h.a)(v.a.mark((function t(n){var r,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("token is in SINGLE",i.token),t.next=3,K(n,i.token);case 3:if(r=t.sent,console.log(r),200!==r.status){t.next=15;break}return t.next=8,q(e.booking.date,i.token);case 8:o=t.sent,l(o.data.data.reservation),c(!1),s(!1),console.log(a),t.next=16;break;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"show-booking-container"},r.a.createElement("div",{className:"show-booking"},!p&&e.booking._id?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"exit",onClick:function(){s(!1),c(!1)}},r.a.createElement(F.c,null)),r.a.createElement("h1",null,"Booking info"),r.a.createElement("p",null,r.a.createElement("strong",null,"Booking number:")," ",e.booking._id),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",e.booking.firstname," ",e.booking.lastname),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",e.booking.email),r.a.createElement("p",null,r.a.createElement("strong",null,"Phone:")," ",e.booking.phone),r.a.createElement("p",null,r.a.createElement("strong",null,"Date:")," ",u()(e.booking.date).format("DD/MM")),r.a.createElement("p",null,r.a.createElement("strong",null,"Time:")," ",e.booking.time),r.a.createElement("p",null,r.a.createElement("strong",null,"Persons")," ",e.booking.people)):p&&r.a.createElement(Q,{booking:e.booking}),!p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{onClick:function(){d(!0)},buttonColor:"outline"},"edit"),r.a.createElement(_,{onClick:function(){return E(e.booking._id)},buttonColor:"outline"},"delete")))))},Z=function(){var e=Object(O.g)(),t=Object(n.useContext)(b),a=t.userData,l=t.setLoggedIn,s=Object(n.useContext)(o),i=s.reservations,m=s.setReservations,d=s.hideCal,p=s.currBooking,E=s.dispSingleBooking,f=s.setDispSingleBooking,g=s.updatedBooking,k=Object(n.useState)(new Date),N=Object(c.a)(k,2),w=N[0],S=N[1],y=Object(n.useState)(u()(new Date).format("YYYY-MM-DD")),D=Object(c.a)(y,2),B=D[0],T=(D[1],Object(n.useState)()),I=Object(c.a)(T,2),P=I[0],M=I[1],L=Object(n.useState)([]),Y=Object(c.a)(L,2),W=Y[0],A=Y[1],R=Object(n.useState)([]),H=Object(c.a)(R,2),V=H[0],K=H[1],G=Object(n.useState)("18:00"),Q=Object(c.a)(G,2),Z=Q[0],$=(Q[1],Object(n.useState)("21:00")),ee=Object(c.a)($,2),te=ee[0],ae=(ee[1],Object(n.useState)(!1)),ne=Object(c.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)(!1),oe=Object(c.a)(ce,2),se=oe[0],ie=oe[1],ue=Object(n.useState)(!0),me=Object(c.a)(ue,2),de=me[0],pe=me[1],be=new Date;be.setMonth(be.getMonth()+C),Object(n.useEffect)((function(){(function(){var t=Object(h.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(a.token);case 2:t.sent?function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(B,a.token);case 2:t=e.sent,m(t.data.data.reservation),f(!1),t.data.data.reservation.length<1?M(!0):M(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():(l(!1),e("/"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(B,a.token);case 2:t=e.sent,m(t.data.data.reservation);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[B,g]);var Ee=function(e){if(e.target.value===Z){var t=i.filter((function(t){return t.time===e.target.value}));!t.length<1?(A((function(e){return Object(z.a)(t)})),le(!0),ie(!1),pe(!1)):M(!0)}else if(e.target.value===te){var a=i.filter((function(t){return t.time===e.target.value}));!a.length<1?(K((function(e){return Object(z.a)(a)})),le(!1),ie(!0),pe(!1)):M(!0)}else le(!1),ie(!1),pe(!0)};return Object(n.useEffect)((function(){}),[W,V,P]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"admin-wrapper"},r.a.createElement("div",null,r.a.createElement("div",{className:"head"},r.a.createElement("h1",{className:"header"}," Logged in as, ",a.user.email)),r.a.createElement("div",{className:"time-select"},r.a.createElement("div",{className:"sortbytime"},r.a.createElement("div",{className:"icon"},r.a.createElement("p",null,r.a.createElement(F.b,null))),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{buttonColor:de?"outline-active":"outline",onClick:Ee},"All")),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{onClick:Ee,buttonColor:re?"outline-active":"outline",value:Z},"18:00")),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{buttonColor:se?"outline-active":"outline",value:te,onClick:Ee},"21:00")),r.a.createElement("p",{className:"todays-date"},"Todays date: ",u()(B).format("MMMM Do YYYY")),r.a.createElement("p",{className:"todays-date"},"Reservations today: ",i.length)))),r.a.createElement("div",{className:"cont"},r.a.createElement("div",{className:"outer"},r.a.createElement("div",{className:"booking-info"},!P&&de?r.a.createElement(J,{booking:i}):re?r.a.createElement(J,{booking:W}):se?r.a.createElement(J,{booking:V}):r.a.createElement("p",{className:"no-books"},"no bookings on this date")),E?r.a.createElement(X,{booking:p}):!d&&r.a.createElement("div",{className:"date-outer"},r.a.createElement(j.a,{onChange:function(e){S(e);var t=u()(e).format("YYYY-MM-DD");(function(){var e=Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/admin/".concat(t),{headers:{"x-auth-token":a.token}});case 2:n=e.sent,m(n.data.data.reservation),le(!1),ie(!1),pe(!0),n.data.data.reservation.length<1?M(!0):M(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},value:w,maxDate:be,minDate:new Date}))))))},$=(a(64),function(){var e=Object(O.g)(),t=Object(n.useContext)(m).latestBooking,a=Object(n.useContext)(o),l=a.pageReset,c=a.setPageReset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"success-info"},r.a.createElement("h1",null,"Thank you ",t.firstname," for booking a table"),r.a.createElement("h3",null,"Your reservation info:"),r.a.createElement("div",{className:"booking-info"},r.a.createElement("p",null,t.firstname," ",t.lastname),r.a.createElement("p",null,t.phone),r.a.createElement("p",null,t.email),r.a.createElement("p",null,t.date),r.a.createElement("p",null,t.time),r.a.createElement("p",null,t.people," people")),r.a.createElement("h4",null,"to change or cancel your reservation please contact us")),r.a.createElement("div",{className:"btn-wrapper"},r.a.createElement(_,{buttonColor:"black",buttonSize:"btn--medium",onClick:function(){c(!l),e("/")}},"home")))}),ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"header"},"Privacy Policy"),r.a.createElement("p",{className:"pickInfo"},"They floated in the shade beneath a bridge or overpass. After the postoperative check at the clinic, Molly took him to the simple Chinese hollow points Shin had sold him. Case felt the edge of the Sprawl\u2019s towers and ragged Fuller domes, dim figures moving toward him in the dark. A graphic representation of data abstracted from the Chinese program\u2019s thrust, a worrying impression of solid fluidity, as though the shards of a broken mirror bent and elongated as they rotated, but it never told the correct time. Case had never seen him wear the same suit twice, although his wardrobe seemed to consist entirely of meticulous reconstruction\u2019s of garments of the Sprawl\u2019s towers and ragged Fuller domes, dim figures moving toward him in the dark. None of that prepared him for the arena, the crowd, the tense hush, the towering puppets of light from a half-open service hatch framed a heap of discarded fiber optics and the dripping chassis of a painted jungle of rainbow foliage, a lurid communal mural that completely covered the hull of the car\u2019s floor. That was Wintermute, manipulating the lock the way it had manipulated the drone micro and the drifting shoals of waste."),r.a.createElement("div",null,r.a.createElement(_,{buttonColor:"black"},"Back"))))},te=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home__hero-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row home__hero-row"},r.a.createElement("div",{className:"home__hero-text-wrapper"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/*",element:r.a.createElement(R,null)}),r.a.createElement(O.a,{path:"/book",element:r.a.createElement(P,null)}),r.a.createElement(O.a,{path:"/admin",element:r.a.createElement(Z,null)}),r.a.createElement(O.a,{path:"/login",element:r.a.createElement(H,null)}),r.a.createElement(O.a,{path:"/privacy",element:r.a.createElement(ee,null)}),r.a.createElement(O.a,{path:"/success",element:r.a.createElement($,null)})))))))},ae=(a(65),function(){var e=Object(O.g)(),t=Object(n.useContext)(b),a=t.loggedIn,l=t.setLoggedIn,c=Object(n.useContext)(b).setUserData;return r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",{className:"footer-links"},r.a.createElement("div",{className:"footer-link-wrapper"},r.a.createElement("div",{className:"footer-link-items"},r.a.createElement("h2",null,"Contact Us"),r.a.createElement(g.b,{to:"/"},"Contact"),r.a.createElement("h2",null,"Staff"),a?r.a.createElement(_,{buttonColor:"black",buttonSize:"small",onClick:function(){c({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),l(!1),e("/",{replace:!0})}},"Log out"):r.a.createElement(g.b,{to:"/login"},"Log in")))))}),ne=function(){var e=Object(n.useContext)(b),t=e.setUserData,a=e.loggedIn,l=e.setLoggedIn;return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(a=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),a=""),e.next=4,U(a);case 4:if(!e.sent){e.next=13;break}return e.next=8,G(a);case 8:n=e.sent,t({token:a,user:n.data}),l(!0),e.next=14;break;case 13:console.log("error");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(g.a,null,r.a.createElement(Y,null),r.a.createElement(O.c,null,r.a.createElement("div",{className:"background-wrapper"},r.a.createElement(te,null,r.a.createElement(O.a,{path:"/",element:r.a.createElement(R,null)}),r.a.createElement(O.a,{path:"/book",element:r.a.createElement(P,null)}),r.a.createElement(O.a,{path:"/privacy",element:r.a.createElement(ee,null)}),r.a.createElement(O.a,{path:"/menu",element:r.a.createElement(R,null)}),!a&&r.a.createElement(O.a,{path:"/login",element:r.a.createElement(H,null)}),r.a.createElement(O.a,{path:"/success",element:r.a.createElement($,null)}))),a?r.a.createElement(O.a,{path:"/admin",element:r.a.createElement(Z,null)}):null),r.a.createElement(ae,null))};Object(l.render)(r.a.createElement(E,null,r.a.createElement(p,null,r.a.createElement(s,null,r.a.createElement(ne,null)))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4c7932d6.chunk.js.map